<!doctype html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Porsche Design System - Playground</title>
    <base href="/" />

    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link href="favicon.ico" rel="icon" type="image/x-icon" />
    <link href="http://localhost:3001/styles/font-face.css" rel="stylesheet" type="text/css" />
    <script nomodule src="build/porsche-design-system.js"></script>
    <script src="build/porsche-design-system.esm.js" type="module"></script>
    <!-- to pass partial validation via validateGetInitialStylesUsage() -->
    <style data-pds-initial-styles>
      html,
      body {
        margin: 0;
        padding: 0;
      }

      :root {
        /* --p-transition-duration: 2s; */
      }
    </style>
    <style>
      body {
        overflow-x: hidden;
      }

      p-canvas {
        --p-canvas-background: radial-gradient(circle, rgba(238, 174, 202, 0.5) 0%, rgba(148, 187, 233, 0) 100%);
      }

      p-divider {
        margin-block: clamp(8px, 0.5vw + 6px, 16px);
      }

      p-accordion p-link-pure {
        margin-top: clamp(4px, 0.25vw + 3px, 8px);
      }
    </style>
    <style>
      /* main module: hello */
      .hello {
        grid-column: 1 / -1;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .hello > :first-child {
        max-width: 40rem;
      }

      /* main module: cards */
      .cards {
        grid-column: 1 / -1;
        display: grid;
        grid-auto-rows: 1fr auto;
        gap: 16px;
      }

      .cards__item {
        all: unset;
        cursor: pointer;
        background: hsl(240 4% 85%/35%);
        -webkit-backdrop-filter: blur(32px);
        backdrop-filter: blur(32px);
        transition: background 0.5s;
        padding: 16px;
        border-radius: 12px;
        display: grid;
        grid-template: subgrid / auto 1fr;
        grid-row: span 2;
        gap: clamp(16px, 1.25vw + 12px, 36px) 8px;
      }

      .cards__item:hover {
        background: hsl(240 4% 85%/90%);
      }

      .cards__item:focus-visible {
        outline: 2px solid blue;
        outline-offset: 2px;
      }

      .cards__item > :first-child {
        grid-column: 1 / -1;
      }

      @container (min-width: 480px) {
        .cards {
          grid-column: 2 / -2;
        }
      }

      @container (min-width: 1000px) {
        .cards {
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
      }
    </style>
    <style>
      /* module: search */
      .search {
        grid-column: 1 / -1;
        display: grid;
        grid-template-columns: auto minmax(0, 1fr) auto auto;
        align-items: center;
        gap: 16px;
        padding: 8px;
        padding-inline-start: 16px;
        border-radius: 8px;
        background: hsl(240 4% 85%/35%);
        backdrop-filter: blur(32px);
        -webkit-backdrop-filter: blur(32px);
      }

      .search input {
        all: unset;
        font-family: 'Porsche Next', sans-serif;
      }

      @container (min-width: 760px) {
        .search {
          grid-column: 2 / -2;
        }
      }

      @container (min-width: 1000px) {
        .search {
          grid-column: 3 / -3;
        }
      }

      /* module: controls */
      .controls {
        grid-column: 1 / -1;
        display: flex;
        gap: 16px;
        align-items: center;
        justify-content: center;
      }
    </style>
  </head>
  <body>
    <p-canvas>
      <a href="#" slot="title">Co-Driver</a>

      <div slot="header-start"></div>

      <div slot="header-end">
        <p-button id="button-search" icon="search" variant="ghost" compact="true" hide-label="true"
          >Open search
        </p-button>
      </div>

      <div class="hello">
        <p-display size="medium" align="center">Hi Ferdinand!<br />Can I help you with something?</p-display>
      </div>

      <div class="cards">
        <button class="cards__item">
          <p-text>How has Porscheâ€™s design philosophy evolved over the years?</p-text>
          <p-icon name="chat"></p-icon>
          <p-text>Ask Co-Driver</p-text>
        </button>
        <button class="cards__item">
          <p-text>Can</p-text>
          <p-icon name="chat"></p-icon>
          <p-text>Ask Co-Driver</p-text>
        </button>
        <button class="cards__item">
          <p-text>What makes the Porsche 911 so iconic in automotive history?</p-text>
          <p-icon name="chat"></p-icon>
          <p-text>Ask Co-Driver</p-text>
        </button>
      </div>

      <div slot="footer" class="search">
        <p-button-pure hide-label="true" icon="broadcast">Some label</p-button-pure>
        <input type="search" name="some-name" placeholder="Some placeholder" />
        <p-button-pure hide-label="true" icon="send">Some label</p-button-pure>
        <p-button variant="primary" theme="dark" hide-label="true" icon="arrow-up">Search</p-button>
      </div>

      <div slot="footer" class="controls">
        <p-button-pure icon="delete">Delete chat</p-button-pure>
        <p-button-pure icon="wrench">Service Desk</p-button-pure>
        <p-button-pure icon="information">Rules</p-button-pure>
      </div>

      <div slot="sidebar-start">
        <p-accordion heading="Some category" heading-tag="h2" compact="true">
          <p-link-pure href="#" icon="none" stretch="true">Some anchor</p-link-pure>
          <p-link-pure href="#" icon="none" stretch="true">Some anchor</p-link-pure>
          <p-link-pure href="#" icon="none" stretch="true">Some anchor</p-link-pure>
        </p-accordion>
        <p-accordion heading="Some category" heading-tag="h2" compact="true">
          <p-link-pure href="#" icon="none" stretch="true">Some anchor</p-link-pure>
          <p-link-pure href="#" icon="none" stretch="true">Some anchor</p-link-pure>
          <p-link-pure href="#" icon="none" stretch="true">Some anchor</p-link-pure>
          <p-link-pure href="#" icon="none" stretch="true">Some anchor</p-link-pure>
        </p-accordion>
        <p-accordion heading="Some category" heading-tag="h2" compact="true">
          <p-link-pure href="#" icon="none" stretch="true">Some anchor</p-link-pure>
          <p-link-pure href="#" icon="none" stretch="true">Some anchor</p-link-pure>
          <p-link-pure href="#" icon="none" stretch="true">Some anchor</p-link-pure>
          <p-link-pure href="#" icon="none" stretch="true">Some anchor</p-link-pure>
          <p-link-pure href="#" icon="none" stretch="true">Some anchor</p-link-pure>
          <p-link-pure href="#" icon="none" stretch="true">Some anchor</p-link-pure>
        </p-accordion>
        <p-divider></p-divider>
        <p-link-pure href="#" icon="none" stretch="true">Some anchor</p-link-pure>
        <p-link-pure href="#" icon="none" stretch="true">Some anchor</p-link-pure>
        <p-link-pure href="#" icon="none" stretch="true">Some anchor</p-link-pure>
      </div>

      <div slot="sidebar-end">
        <p-link-pure href="#" icon="none">Profil</p-link-pure>
        <p-link-pure href="#" icon="none">Abmelden</p-link-pure>
        <p-divider></p-divider>
        <p-link-pure href="#" icon="configurate">Settings</p-link-pure>
        <p-switch id="theme-switch" align-label="start" stretch="true">
          <p-icon name="moon"></p-icon>
          Dark Mode
        </p-switch>
      </div>
    </p-canvas>

    <p-flyout
      id="flyout-search"
      open="false"
      aria="{ 'aria-label': 'Some Heading' }"
      style="--p-flyout-max-width: 480px"
    >
      <p-display slot="header" size="small" tag="h2">What are you looking for?</p-display>
      <p-text-field-wrapper label="Search" hide-label="true">
        <input type="search" name="some-name" placeholder="Some placeholder" />
      </p-text-field-wrapper>
    </p-flyout>

    <script>
      document
        .querySelectorAll('p-accordion')
        .forEach((el) => el.addEventListener('update', (e) => (e.target.open = e.detail.open)));

      document
        .querySelectorAll('p-tabs-bar')
        .forEach((el) => el.addEventListener('update', (e) => (e.target.activeTabIndex = e.detail.activeTabIndex)));

      document
        .querySelectorAll('p-flyout')
        .forEach((el) => el.addEventListener('dismiss', (e) => (e.target.open = false)));

      document
        .getElementById('button-search')
        .addEventListener('click', () => (document.getElementById('flyout-search').open = true));

      document.getElementById('theme-switch').addEventListener('update', (e) => {
        e.target.checked = e.detail.checked;

        // update theme prop of all PDS components in Light DOM
        Array.from(document.querySelectorAll('*'))
          .filter((el) => el.tagName.startsWith('P-'))
          .forEach((el) => (el.theme = e.detail.checked ? 'dark' : 'light'));
      });
    </script>
  </body>
</html>
