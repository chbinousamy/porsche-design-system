<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Porsche Design System - Playground</title>
    <base href="/" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <script nomodule src="build/porsche-design-system.js"></script>
    <script type="module" src="build/porsche-design-system.esm.js"></script>
    <style>
      .playground {
        padding: 1rem;
      }

      .playground.light {
        background: #fff;
      }

      .playground.light.surface {
        background: #eeeff2;
      }

      .playground.dark {
        background: #0e0e12;
      }

      .playground.dark.surface {
        background: #212225;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Porsche Design System - Playground</h1>
    </header>

    <main>
      <form id="myForm" method="post">
        <p-multi-select name="name" label="Some Label" description="Some description" required>
          <p-multi-select-option value="Test">Längere Option ausgewhält</p-multi-select-option>
          <p-multi-select-option value="Test">Test 2</p-multi-select-option>
        </p-multi-select>

        <!--        <p-multi-select name="name2" label="Some Label">-->
        <!--          <p-multi-select-option value="Test">Test</p-multi-select-option>-->
        <!--        </p-multi-select>-->
        <!--        <select name="name" multiple>-->
        <!--          <option value="a">Option A</option>-->
        <!--          <option value="a">Option A</option>-->
        <!--          <option value="c">Option C</option>-->
        <!--        </select>-->
        <!--        <p-fieldset required>-->
        <!--          <p-select-wrapper label="Some label">-->
        <!--            <select name="some-name" required>-->
        <!--              <option hidden></option>-->
        <!--              <option value="a">Option A</option>-->
        <!--              <option value="b">Option B</option>-->
        <!--              <option value="c">Option C</option>-->
        <!--            </select>-->
        <!--          </p-select-wrapper>-->
        <!--        </p-fieldset>-->

        <!--        <button type="button" id="toggle">Toggle required</button>-->

        <p-select-wrapper filter="true" label="Some label" description="Some description">
          <select name="some-name" required>
            <option hidden></option>
            <option value="a">Extra lange option zum test was passiert</option>
            <option value="b">Option B</option>
            <option value="c">Option C</option>
          </select>
        </p-select-wrapper>

        <button type="submit">Submit</button>
      </form>

      <!--      <p-select-wrapper filter="true" label="Some label" description="Some description">-->
      <!--        <select name="some-name">-->
      <!--          <option></option>-->
      <!--          <option value="a">Option A</option>-->
      <!--          <option value="b">Option B</option>-->
      <!--          <option value="c">Option C</option>-->
      <!--        </select>-->
      <!--      </p-select-wrapper>-->
    </main>

    <script>
      const multiSelect = document.querySelector('p-multi-select');
      // const select = document.querySelector('p-select-wrapper select');
      // const toggle = document.querySelector('#toggle');
      const form = document.getElementById('myForm');

      // console.log(toggle);
      //
      // toggle.addEventListener('click', () => {
      //   if (select.getAttribute('required') === 'true') {
      //     select.setAttribute('required', 'false');
      //   } else {
      //     select.setAttribute('required', 'true');
      //   }
      // });

      form.addEventListener('submit', (event) => {
        // event.preventDefault(); // Prevent the form from being submitted
        // console.log(document.getElementById('cars').value);
        const formData = new FormData(form);
        // Display the key/value pairs
        console.log(formData.values());
        for (var pair of formData.entries()) {
          console.log(pair[0] + ', ' + pair[1]);
        }
      });

      // setTimeout(() => {
      //   const option = document.createElement('p-multi-select-option');
      //   option.value = 'Option 2';
      //   option.setAttribute('value', 'Option 2');
      //   option.selected = false;
      //   option.innerText = 'Option 2';
      //   multiSelect.appendChild(option);
      //   console.log('Slot of p-multi-select was changed');
      // }, 1000);
      //
      // setTimeout(() => {
      //   const options = document.querySelectorAll('p-multi-select-option');
      //   Array.from(options).at(-1).value = 'New Value';
      //   console.log('Value of p-multi-select-option was changed');
      // }, 2000);
      //
      // setTimeout(() => {
      //   const options = document.querySelectorAll('p-multi-select-option');
      //   Array.from(options).at(-1).selected = true;
      //   console.log('p-multi-select-option was set selected');
      // }, 3000);
      //
      // setTimeout(() => {
      //   const options = document.querySelectorAll('p-multi-select-option');
      //   Array.from(options).at(-1).disabled = true;
      //   console.log('p-multi-select-option was set disabled');
      // }, 4000);

      // setTimeout(() => {
      //   const options = document.querySelectorAll('p-multi-select-option');
      //   Array.from(options).at(-1).disabled = true;
      //   console.log('Changed p-multi-select-option to disabled');
      // }, 4000);

      [('componentWillLoad', 'componentDidLoad', 'componentWillUpdate', 'componentDidUpdate')].forEach((x) =>
        window.addEventListener(`stencil_${x}`, (e) => {
          const eventName = e.type + (e.type.includes('Did') ? ' ' : '');
          console.log(eventName, e.composedPath()[0].tagName.toLowerCase(), new Date().toISOString());
        })
      );
    </script>
    <!-- /END -->
  </body>
</html>
