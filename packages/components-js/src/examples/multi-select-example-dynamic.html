<label>Value: <input name="input-value" type="text" placeholder="e.g. 1,2" /></label>
<button id="btn-input-value" type="button">Set Value</button>
<button id="btn-reset" type="button">Reset value</button>

<p-multi-select name="name">
  <p-multi-select-option value="1">Option 1</p-multi-select-option>
  <p-multi-select-option value="2">Option 2</p-multi-select-option>
  <p-multi-select-option value="3">Option 3</p-multi-select-option>
</p-multi-select>

<button id="btn-add" type="button">Add option</button>
<button id="btn-add-disabled" type="button">Add disabled option</button>
<button id="btn-remove" type="button">Remove last option</button>

<script>
  const input = document.querySelector('input');
  const multiSelect = document.querySelector('p-multi-select');

  multiSelect.addEventListener('update', () => {
    input.value = multiSelect.value;
  });

  document.querySelector('#btn-add').addEventListener('click', () => {
    addOption();
  });

  document.querySelector('#btn-input-value').addEventListener('click', () => {
    multiSelect.value = input.value;
  });

  document.querySelector('#btn-remove').addEventListener('click', () => {
    multiSelect.lastChild.remove();
  });

  document.querySelector('#btn-reset').addEventListener('click', () => {
    multiSelect.value = undefined;
  });

  function addOption() {
    const child = document.createElement('p-multi-select-option');
    child.innerText = `Option ${multiSelect.children.length + 1}`;
    child.setAttribute('value', multiSelect.children.length + 1);
    multiSelect.append(child);
  }
</script>
